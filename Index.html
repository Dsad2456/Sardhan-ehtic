<!DOCTYPE html>
<html>
<head>
<title>Sardhan Security Scanner</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{background:#0d1117;color:#e6edf3;font-family:Arial}
.container{max-width:800px;margin:auto;padding:20px}
input,button{width:100%;padding:14px;border-radius:8px;border:none}
button{background:#238636;color:white;margin-top:10px}
.card{padding:10px;margin-top:8px;border-radius:6px}
.pass{background:#1f6f43}
.fail{background:#8b1d18}
.warn{background:#7c5c00}
.score{font-size:22px;text-align:center;margin-top:15px}
</style>
</head>
<body>
<div class="container">
<h2>üîê Sardhan Advanced Website Security Checker</h2>
<input id="url" placeholder="https://example.com">
<button onclick="scan()">Scan Website</button>
<div id="out"></div>
<p style="font-size:12px;color:#8b949e;text-align:center">
Educational & authorized testing only ‚Äì ¬© Sardhan
</p>
</div>

<script>
async function scan(){
    const url=document.getElementById("url").value;
    const out=document.getElementById("out");
    out.innerHTML="Scanning...";
    const res=await fetch("/scan",{
        method:"POST",
        headers:{"Content-Type":"application/json"},
        body:JSON.stringify({url})
    });
    const data=await res.json();

    if(data.error){
        out.innerHTML=data.error;
        return;
    }

    out.innerHTML=`<div class="score">Security Score: ${data.score}%</div>`;
    data.results.forEach(r=>{
        out.innerHTML+=`<div class="card ${r.status}">
        ${r.text}${r.fix?("<br><small>Fix: "+r.fix+"</small>"):""}
        </div>`;
    });
}
</script>
</body>
</html>
